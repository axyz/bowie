#!/usr/bin/env ruby

require 'bowie'
require 'thor'

class BowieCLI < Thor
  
  desc "install song", "install the selected package"
  def install(song)
    Bowie.install(song)
  end

  desc "uninstall song", "remove the selected package"
  def uninstall(song)
    Bowie.uninstall(song)
  end

  desc "search song", "list all availables packages matching [song]"
  def search(song)
    results = Bowie.search(song)
    results.each { |key, values| puts "#{values['name']}:\n  #{values['description']}" }
  end
end

BowieCLI.start(ARGV)